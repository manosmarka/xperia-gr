---
import Layout from '../../layouts/Layout.astro';
import Card from '../../components/Card.astro';
import { sanityClient } from '../../lib/sanity';

// Πρόσφατα άρθρα (ενδεικτικά στα ελληνικά)
const latestArticles = [
  {
    title: 'Εισαγωγή στο ChatGPT',
    body: 'Μάθε τα βασικά του ChatGPT και πώς να το χρησιμοποιείς στην καθημερινότητά σου.',
    href: '/learn',
    date: '22 Νοε 2025',
    tags: ['Αρχάριοι', 'Εργαλεία'],
  },
  {
    title: 'Ηθική της Τεχνητής Νοημοσύνης',
    body: 'Κατανόησε τις ηθικές προεκτάσεις της ΤΝ στη σύγχρονη κοινωνία.',
    href: '/learn',
    date: '21 Νοε 2025',
    tags: ['Ηθική'],
  },
  {
    title: 'Γενετική ΤΝ για Τέχνη',
    body: 'Δες πώς η γενετική ΤΝ αλλάζει τον τρόπο που δημιουργούμε τέχνη.',
    href: '/learn',
    date: '20 Νοε 2025',
    tags: ['Δημιουργικότητα', 'Οδηγοί'],
  },
];

const newsTicker = [
  'Η OpenAI κυκλοφορεί νέο μοντέλο',
  'Κυκλοφόρησε ενημέρωση του Google Gemini',
  'Συζητήσεις για ρύθμιση της ΤΝ στο Ευρωπαϊκό Κοινοβούλιο',
  'Νέα εργαλεία ΤΝ για την εκπαίδευση',
];

// Workshops for Greek homepage – prefer Greek fields, fallback to English
const workshopsQuery = `*[_type == "workshop"] | order(startDateTime asc)[0..2]{
  eventName,
  eventNameEl,
  summary,
  summaryEl,
  difficulty
}`;

const workshops = await sanityClient.fetch(workshopsQuery);
---

<Layout title="Xperia.gr - Πλατφόρμα Εκπαίδευσης στην Τεχνητή Νοημοσύνη">
  <!-- Hero Section -->
  <section class="flex flex-col-reverse md:flex-row items-center justify-between min-h-[60vh] gap-12 mb-16">
    <div class="flex-1 space-y-6 text-center md:text-left">
      <h1 class="text-5xl md:text-7xl font-orbitron font-bold leading-tight">
        Απομυθοποιούμε την <span class="text-transparent bg-clip-text bg-gradient-to-r from-electric-cyan to-neural-blue glow-text">Τεχνητή Νοημοσύνη</span><br />
        για την Ελλάδα
      </h1>
      <p class="text-xl text-cyber-grey max-w-lg mx-auto md:mx-0">
        Η πύλη σου για να κατανοήσεις την Τεχνητή Νοημοσύνη.
        Μάθε, πειραματίσου και δημιούργησε με αυτοπεποίθηση.
      </p>
      <div class="flex gap-4 justify-center md:justify-start pt-4">
        <a href="/el/workshops" class="bg-electric-cyan text-deep-void font-bold py-3 px-8 rounded-2xl hover:glow-box transition-all">
          Ξεκίνα να μαθαίνεις
        </a>
        <a href="/el/news" class="border border-electric-cyan text-electric-cyan font-bold py-3 px-8 rounded-2xl hover:bg-electric-cyan/10 transition-all">
          Τελευταία νέα
        </a>
      </div>
    </div>
    <div class="flex-1 flex justify-center items-center relative">
      <div class="relative w-64 h-64 md:w-96 md:h-96">
        <div class="absolute inset-0 bg-electric-cyan/20 rounded-full blur-3xl animate-pulse"></div>
        <div class="relative z-10 w-full h-full bg-gradient-to-br from-midnight-glass to-deep-void border border-white/10 rounded-3xl flex items-center justify-center glow-box rotate-3 hover:rotate-0 transition-transform duration-500">
          <span class="text-6xl font-orbitron font-bold text-electric-cyan glow-text">X</span>
        </div>
      </div>
    </div>
  </section>

  <!-- Πρόσφατα άρθρα -->
  <section class="mb-20">
    <div class="flex justify-between items-end mb-8">
      <h2 class="text-3xl font-orbitron font-bold">Πρόσφατα άρθρα</h2>
      <a href="/el/learn" class="text-electric-cyan hover:underline">Δες όλα</a>
    </div>
    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
      {latestArticles.map(article => (
        <Card
          title={article.title}
          body={article.body}
          href={article.href}
          date={article.date}
          tags={article.tags}
        />
      ))}
    </div>
  </section>

  <!-- Σε ποιους απευθύνεται; -->
  <section class="mb-20">
    <h2 class="text-3xl font-orbitron font-bold mb-8 text-center md:text-left">Σε ποιους απευθύνεται;</h2>
    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
      <div class="p-6 rounded-2xl bg-midnight-glass/50 border border-white/5 hover:border-electric-cyan/50 transition-colors">
        <h3 class="text-xl font-bold text-starlight mb-2">Μαθητές & Φοιτητές</h3>
        <p class="text-cyber-grey">Κατάκτησε τα εργαλεία που θα καθορίσουν την επαγγελματική σου πορεία.</p>
      </div>
      <div class="p-6 rounded-2xl bg-midnight-glass/50 border border-white/5 hover:border-electric-cyan/50 transition-colors">
        <h3 class="text-xl font-bold text-starlight mb-2">Γονείς</h3>
        <p class="text-cyber-grey">Καθοδήγησε τα παιδιά σου με ασφάλεια μέσα στην επανάσταση της ΤΝ.</p>
      </div>
      <div class="p-6 rounded-2xl bg-midnight-glass/50 border border-white/5 hover:border-electric-cyan/50 transition-colors">
        <h3 class="text-xl font-bold text-starlight mb-2">Επιχειρήσεις</h3>
        <p class="text-cyber-grey">Ενσωμάτωσε την ΤΝ στις διαδικασίες σου για μέγιστη αποδοτικότητα.</p>
      </div>
    </div>
  </section>

  <!-- News Ticker -->
  <div class="w-full bg-midnight-glass border-y border-white/5 overflow-hidden py-2 mb-16">
    <div class="whitespace-nowrap animate-marquee inline-block">
      {newsTicker.map(item => (
        <span class="mx-8 text-cyber-grey font-mono">
          <span class="text-electric-cyan mr-2">>></span> {item}
        </span>
      ))}
      {newsTicker.map(item => (
        <span class="mx-8 text-cyber-grey font-mono">
          <span class="text-electric-cyan mr-2">>></span> {item}
        </span>
      ))}
    </div>
  </div>

  <!-- Εργαστήρια & Σεμινάρια (με δεδομένα από Sanity) -->
  <section class="mb-20 rounded-3xl bg-gradient-to-r from-midnight-glass to-deep-void border border-white/10 p-8 md:p-12">
    <div class="flex flex-col md:flex-row md:items-start md:justify-between gap-8">
      <div class="max-w-md">
        <h2 class="text-3xl font-orbitron font-bold mb-4">Εργαστήρια &amp; Σεμινάρια</h2>
        <p class="text-cyber-grey mb-6">
          Πάρε μέρος σε πρακτικά εργαστήρια και σεμινάρια για να χτίσεις πραγματικές δεξιότητες στην ΤΝ.
        </p>
        <a href="/el/workshops" class="inline-block bg-neural-blue text-white font-bold py-3 px-8 rounded-2xl hover:bg-neural-blue/80 transition-colors">
          Δες όλα τα εργαστήρια
        </a>
      </div>

      <div class="flex-1 grid gap-4">
        {workshops.length === 0 && (
          <p class="text-cyber-grey text-sm">Δεν υπάρχουν ακόμη δημοσιευμένα εργαστήρια. Πρόσθεσε μερικά στο Sanity για να εμφανιστούν εδώ.</p>
        )}

        {workshops.map((w: any) => {
          const title = w.eventNameEl || w.eventName;
          const description = w.summaryEl || w.summary;

          return (
            <div class="bg-deep-void/60 border border-white/10 rounded-2xl p-4 hover:border-electric-cyan/60 transition-colors">
              <div class="flex items-baseline justify-between gap-4">
                <h3 class="font-semibold text-starlight">{title}</h3>
                {w.difficulty && (
                  <span class="text-xs px-2 py-1 rounded-full bg-electric-cyan/10 text-electric-cyan uppercase tracking-wide">
                    {w.difficulty}
                  </span>
                )}
              </div>
              {description && (
                <p class="text-sm text-cyber-grey mt-2">
                  {description}
                </p>
              )}
            </div>
          );
        })}
      </div>
    </div>
  </section>
</Layout>
